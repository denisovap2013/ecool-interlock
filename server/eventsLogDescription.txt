
#define		dAdrDLmax	32499	Максимальный адрес записи в EEPROM
#define		dStepDL		13	Шаг записи
#define		dAdrDLinfo	81	Адрес в буфере Modbus - информация о лог файле
#define		dAdrDLdata	300	Адрес в буфере Modbus - начало записей страниц событий

Регистры лог файла.

Сейчас информация о лог файле содержится по адресу (dAdrDLinfo = 81). Лучше этот адрес определить через #define,
поскольку в процессе написания программы может меняться.

Данные в информации о лог файле состоят из слов (2 байта), количество 6 слов.
0. Стартовый адрес записи, сейчас 0-32499
1. Конечный адрес записи, сейчас 0-32499
2. Максимальный адрес записи, сейчас 32499 (dAdrDLmax)
3. Шаг записи, т.е. количество слов на одну запись события (страница), сейчас 13 (dStepDL)
4. Начальный адрес в буфере Modbus, сейчас 300 (dAdrDLdata)
5. Стартовый адрес записи при получении команды выравнивания адресов.

Сейчас в лог файл можно записать 2500 событий.


В начале, стартовый адрес = 0 и конечный адрес = 0.
Далее последовательно идут страницы событий.
После записи первой страницы конечный адрес увеличивается на шаг записи (п. 4) т.е. сейчас +13 и так далее.
Когда конечный адрес достигает значения максимального адреса (п. 3 сейчас 32499) он обнуляется.
При этом старший бит в стартовом адресе устанавливается в '1', который говорит, что был
переход через максимальный адрес заполнения памяти.

Далее, если происходит ещё одна запись, то стирается старая страница и на её место записывается новая страница.
Конечный адрес увеличивается на шаг записи (п. 4) т.е. сейчас +13 и при этом стартовый адрес также 
увеличивается на шаг записи, т.е. просто равен конечному адресу, но старший бит в стартовом адресе = '1'.
Далее запись новых страниц идёт по циклу. Т.е. стирается старая
страница и на её место записывается новая страница.

ВНИМАНИЕ! Чтение лог-файла не выравнивает значения стартового и конечного адресов.

// пока нет
Чтобы выровнять значения стартового и конечного адресов и сбросить бит перехода через максимальный адрес заполнения памяти,
нужно записать по адресу dAdrDLinfo + 5 слово = последнему считаному адресу + dStepDL(сейчас 13).
Тогда, стартовому адресу будет присвоено это значение, что позволит не допустить потерю данных, если новая запись
произошла в промежуток между считыванием лог файла и командой выравнивания адресов.
//
-------------
Сейчас страница записи события содержит 13 слов.

Первые 4 слова - время записи события. Пример расшифровки времени есть в 01-CoolerModbus09092025.txt (функция TimeRes())
1-е слово: старший байт - день
	   младший байт - месяц

2-е слово: год

3-е слово: старший байт - часы
	   младший байт - минуты

4-е слово: старшие 10 бит - миллисекунды
	   младшие 6  бит - секунды
// 
5-е слово:  "тип записи".
	Сейчас используется 2 типа
	=1 - рестарт программы, остальные байты = 0

	=2 - модули ввода вывода. 
Далее идут 4 слова (64 бита) - это модули ввода
Далее идут 3 слова (48 бит ) - это модули вывода
Далее      1 слово (16 бит ) - это диагностика (ошибка модуля(нет питания или что-то другое)), сейчас 11 модулей (11 бит)


